<!doctype html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->
<head>
    <meta charset="utf-8">
<title>Instagram Engineering Challenge: The Unshredder &#8211; Zack's Blog</title>
<meta name="description" content="">
<meta name="keywords" content="">
<!-- Twitter Cards -->
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="/images/">
<meta name="twitter:title" content="Instagram Engineering Challenge: The Unshredder">
<meta name="twitter:description" content="Zack Zhu's Blog">
<meta name="twitter:creator" content="@CodingRhythm">

<!-- Open Graph -->
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="Instagram Engineering Challenge: The Unshredder">
<meta property="og:description" content="Zack Zhu's Blog">
<meta property="og:url" content="/coding/instagram-engineering-challenge-the-unshredder/">
<meta property="og:site_name" content="Zack's Blog">





<link rel="canonical" href="/coding/instagram-engineering-challenge-the-unshredder/">
<link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Zack's Blog Feed">


<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">

<!--[if (lt IE 9) & (!IEMobile)]>
<link rel="stylesheet" href="/assets/css/ie.css">
<![endif]-->

<meta http-equiv="cleartype" content="on">

<!-- Load Modernizr -->
<script src="/assets/js/vendor/modernizr-2.6.2.custom.min.js"></script>

<!-- Icons -->
<!-- 16x16 -->
<link rel="shortcut icon" href="/favicon.ico">
<!-- 32x32 -->
<link rel="shortcut icon" href="/favicon.png">
<!-- 57x57 (precomposed) for iPhone 3GS, pre-2011 iPod Touch and older Android devices -->
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon-precomposed.png">
<!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="/images/apple-touch-icon-72x72-precomposed.png">
<!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="/images/apple-touch-icon-114x114-precomposed.png">
<!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="/images/apple-touch-icon-144x144-precomposed.png">

</head>

<body class="post">

    <!--[if lt IE 9]><div class="browser-upgrade alert alert-info">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</div><![endif]-->

    <div class="navigation-wrapper">
	<div class="site-name">
		<a href="">Zack's Blog</a>
	</div><!-- /.site-name -->
	<div class="top-navigation">
		<nav role="navigation">
		    <ul>
		        
				<li><a href="/" >Home</a></li>
		        
				<li><a href="/posts/" >Posts</a></li>
		        
				<li><a href="/about/" >About</a></li>
		        
				<li><a href="http://5coins.cmsight.com" target="_blank">5coins</a></li>
		        
		        <li><i class="icon-feed"></i> <a href="/feed.xml" title="Atom/RSS feed">Feed</a>
		    </ul>
		</nav>
	</div><!-- /.top-navigation -->
</div><!-- /.navigation-wrapper -->

    

<div id="main" role="main">
    <div class="article-author-side">
        <img src="/images/bio-photo.jpg" class="bio-photo" alt="Zack Zhu bio photo"></a>
<h3>Zack Zhu</h3>
<p>I am a full stack developer and falling love with iOS and Django development.</p>
<a href="/resume/" class="author-social" target="_blank">View Resume</a><hr>
<a href="http://twitter.com/CodingRhythm" class="author-social" target="_blank"><i class="icon-twitter"></i> Twitter</a>
<a href="http://facebook.com/zhu.yuzhou" class="author-social" target="_blank"><i class="icon-facebook"></i> Facebook</a>


<a href="http://instagram.com/codingrhythm" class="author-social" target="_blank"><i class="icon-instagram"></i> Instagram</a>
<a href="http://github.com/codingrhythm" class="author-social" target="_blank"><i class="icon-github"></i> Github</a>



    </div>

    <article>
    <div class="headline-wrap">
      <h1>Instagram Engineering Challenge: The Unshredder</h1>
      <h2></h2>
  </div><!--/ .headline-wrap -->
  <div class="article-wrap">
      <p>I spent couple of hours on this <a href="http://instagram-engineering.tumblr.com/post/12651721845/instagram-engineering-challenge-the-unshredder">challenge</a>, and finally worked out a solution. I tested the solution with 15 different photos, the result went really well. Except for one photo which has constant sky color, all other photos were all completely restored.</p>

<p>The steps of solution are:</p>

<ol>
  <li>Cut the shredded photo in to sections</li>
  <li>Compare right side of each section with left sides of others and score and sort the matches</li>
  <li>Check if there are cases that more than one sections connect with the same section, if yes, remove the less match one.</li>
  <li>
    <p>Find the first section (left edge) of the photo, this part is a bit tricky. The method I used is to check the match score from both side and determine if there is a significant change on the current match score. If yes, it might be the last section (right edge) of the photo and the section it connects to is the first section. It demonstrates best in graph.</p>

    <p>0 –(12)–&gt; 9 –(39)–&gt; 8 — (15) –&gt; 13 — (20) –&gt; 10 — (25) –&gt; 3 –(34)–&gt; 5 –(27)–&gt; 4 …..</p>

    <p>the chain above shows the link and match score between sections. Section 0 links with section 9 the score is 12, section 9 links with section 8 score is 39. Section 9 is the right edge and section 8 is the left edge as there is a significant match score change from 9 to 8.</p>
  </li>
  <li>Connect the sections by match, and the original photo is beautifully restored.</li>
</ol>

<p>I also toke the bonus challenge to detect shredder width of the photo. Source code of the solution is <a href="https://github.com/codingrhythm/unshredder">here</a>.</p>


      <hr>

        <footer role="contentinfo">
            <div class="article-author-bottom">
              <img src="/images/bio-photo.jpg" class="bio-photo" alt="Zack Zhu bio photo"></a>
<h3>Zack Zhu</h3>
<p>I am a full stack developer and falling love with iOS and Django development.</p>
<a href="/resume/" class="author-social" target="_blank">View Resume</a><hr>
<a href="http://twitter.com/CodingRhythm" class="author-social" target="_blank"><i class="icon-twitter"></i> Twitter</a>
<a href="http://facebook.com/zhu.yuzhou" class="author-social" target="_blank"><i class="icon-facebook"></i> Facebook</a>


<a href="http://instagram.com/codingrhythm" class="author-social" target="_blank"><i class="icon-instagram"></i> Instagram</a>
<a href="http://github.com/codingrhythm" class="author-social" target="_blank"><i class="icon-github"></i> Github</a>



            </div>
            <p class="byline"><strong>Instagram Engineering Challenge: The Unshredder</strong> was published on <time datetime="2013-04-21T01:13:00Z">April 21, 2013</time> by <a href="/about" title="About Zack Zhu">Zack Zhu</a>.</p>
      </footer>

      <!-- Comments-->
      <div id="disqus_thread"></div>
      <script type="text/javascript">
      /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'zackzhusblog'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
        <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a><!-- /Comments-->
  </div><!-- /.article-wrap -->
</article>
</div><!-- /#main -->

<div class="footer-wrap">
    
        <div class="related-articles">
            <h4>You might also enjoy <small class="pull-right">(<a href="/posts/">View all posts</a>)</small></h4>
            <ul>
            
                
                
                    
                
            
                
            
                
                
                    
                
            
                
            
                
                
                    
                
            
                
            
            </ul>
   
        </div><!-- /.related-articles -->
     
    
    <footer>
        <span>&copy; 2014 Zack Zhu. </span>

    </footer>
</div><!-- /.footer-wrap -->

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="/assets/js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
<script src="/assets/js/scripts.min.js"></script>
	        

</body>
</html>